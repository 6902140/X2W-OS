\hypertarget{stdfmt_8h}{}\doxysection{/home/data/proj/oskernel2023-\/x2w/include/stdfmt.h 文件参考}
\label{stdfmt_8h}\index{/home/data/proj/oskernel2023-\/x2w/include/stdfmt.h@{/home/data/proj/oskernel2023-\/x2w/include/stdfmt.h}}


{\ttfamily \mbox{\hyperlink{stdfmt_8h}{stdfmt.\+h}}}提供了格式化函数  


{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stdarg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}string.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stdlib.\+h\char`\"{}}\newline
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \mbox{\hyperlink{stdfmt_8h_aa318f0a68f8472c9fe524059ee464872}{\+\_\+scan\+\_\+number}} (const char $\ast$str, int $\ast$num)
\begin{DoxyCompactList}\small\item\em {\ttfamily \+\_\+scan\+\_\+number}用于将存储在{\ttfamily str}中的字符串数字转换为{\ttfamily int}数字并存入{\ttfamily num}中 \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{stdfmt_8h_a516ca7acae514264e2d3aae09cd33558}{copy\+\_\+number}} (char $\ast$str, unsigned long num, int base, int width, int precision, int flag)
\begin{DoxyCompactList}\small\item\em {\ttfamily copy\+\_\+number}用于将整形的数字{\ttfamily num}按照指定进制{\ttfamily base}转换为字符串数字, 而后按照指定的宽度{\ttfamily width}和精度{\ttfamily precision}复制到{\ttfamily str}中去 \end{DoxyCompactList}\item 
\mbox{\hyperlink{types_8h_a186ea1339bffb378854987065835afe3}{size\+\_\+t}} \mbox{\hyperlink{stdfmt_8h_a5d6013cf5c9d1311c9044f649a7d91cf}{vsprintf}} (char $\ast$str, const char $\ast$format, \mbox{\hyperlink{stdarg_8h_af53f622e3b6c080daeb167c1955d7ec1}{va\+\_\+list}} ap)
\begin{DoxyCompactList}\small\item\em {\ttfamily vsprintf}按照{\ttfamily format}中指定的格式将{\ttfamily ap}指向的可变参数列表的值复制到{\ttfamily str}中 \end{DoxyCompactList}\item 
\mbox{\hyperlink{types_8h_a186ea1339bffb378854987065835afe3}{size\+\_\+t}} \mbox{\hyperlink{stdfmt_8h_adfa2019cc501e5783a7476645ca0bcdb}{sprintf}} (char $\ast$buf, const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em {\ttfamily sprintf}将格式字符串{\ttfamily format}的格式控制字符替换为可变参数并输出到{\ttfamily buf}中 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
{\ttfamily \mbox{\hyperlink{stdfmt_8h}{stdfmt.\+h}}}提供了格式化函数 

\begin{DoxyAuthor}{作者}
Shihong Wang (\href{mailto:jack4shihong@gmail.com}{\texttt{ jack4shihong@gmail.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{版本}
0.\+2 
\end{DoxyVersion}
\begin{DoxyDate}{日期}
2023-\/04-\/09
\end{DoxyDate}
\begin{DoxyCopyright}{版权所有}
Copyright Shihong Wang (c) 2023 with G\+NU Public License V3.\+0 
\end{DoxyCopyright}


\doxysubsection{函数说明}
\mbox{\Hypertarget{stdfmt_8h_aa318f0a68f8472c9fe524059ee464872}\label{stdfmt_8h_aa318f0a68f8472c9fe524059ee464872}} 
\index{stdfmt.h@{stdfmt.h}!\_scan\_number@{\_scan\_number}}
\index{\_scan\_number@{\_scan\_number}!stdfmt.h@{stdfmt.h}}
\doxysubsubsection{\texorpdfstring{\_scan\_number()}{\_scan\_number()}}
{\footnotesize\ttfamily const char$\ast$ \+\_\+scan\+\_\+number (\begin{DoxyParamCaption}\item[{const char $\ast$}]{str,  }\item[{int $\ast$}]{num }\end{DoxyParamCaption})}



{\ttfamily \+\_\+scan\+\_\+number}用于将存储在{\ttfamily str}中的字符串数字转换为{\ttfamily int}数字并存入{\ttfamily num}中 


\begin{DoxyParams}{参数}
{\em str} & 字符串形式的数字 \\
\hline
{\em num} & 转换后的数字将存入{\ttfamily num}中 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
const char$\ast$ str第一个非字符数字
\end{DoxyReturn}
\begin{DoxyNote}{注解}
{\ttfamily \+\_\+scan\+\_\+number}将在第一个非字符数字前停下, 即\+:
\begin{DoxyItemize}
\item 若{\ttfamily str = \char`\"{}123\+T\+E\+S\+T\char`\"{}}, 则运行后`num = 123, $\ast$return = \textquotesingle{}T'{\ttfamily }
\item {\ttfamily 若}str = \char`\"{}12\+E\+S\+T456\char`\"{}{\ttfamily , 则运行后}num = 12, $\ast$return = \textquotesingle{}E\textquotesingle{}{\ttfamily }
\item {\ttfamily 若}str = \char`\"{}\+S\+T456\char`\"{}{\ttfamily , 则运行后}num = 0, $\ast$return = \textquotesingle{}S\textquotesingle{}\`{} 
\end{DoxyItemize}
\end{DoxyNote}
\mbox{\Hypertarget{stdfmt_8h_a516ca7acae514264e2d3aae09cd33558}\label{stdfmt_8h_a516ca7acae514264e2d3aae09cd33558}} 
\index{stdfmt.h@{stdfmt.h}!copy\_number@{copy\_number}}
\index{copy\_number@{copy\_number}!stdfmt.h@{stdfmt.h}}
\doxysubsubsection{\texorpdfstring{copy\_number()}{copy\_number()}}
{\footnotesize\ttfamily char$\ast$ copy\+\_\+number (\begin{DoxyParamCaption}\item[{char $\ast$}]{str,  }\item[{unsigned long}]{num,  }\item[{int}]{base,  }\item[{int}]{width,  }\item[{int}]{precision,  }\item[{int}]{flag }\end{DoxyParamCaption})}



{\ttfamily copy\+\_\+number}用于将整形的数字{\ttfamily num}按照指定进制{\ttfamily base}转换为字符串数字, 而后按照指定的宽度{\ttfamily width}和精度{\ttfamily precision}复制到{\ttfamily str}中去 


\begin{DoxyParams}{参数}
{\em str} & 输出字符数组 \\
\hline
{\em num} & 整形数字 \\
\hline
{\em base} & 进制 \\
\hline
{\em width} & 对齐宽度 \\
\hline
{\em precision} & 输出位数 \\
\hline
{\em flag} & 格式控制字符 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
char$\ast$ 复制后str的位置 
\end{DoxyReturn}
\mbox{\Hypertarget{stdfmt_8h_adfa2019cc501e5783a7476645ca0bcdb}\label{stdfmt_8h_adfa2019cc501e5783a7476645ca0bcdb}} 
\index{stdfmt.h@{stdfmt.h}!sprintf@{sprintf}}
\index{sprintf@{sprintf}!stdfmt.h@{stdfmt.h}}
\doxysubsubsection{\texorpdfstring{sprintf()}{sprintf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_a186ea1339bffb378854987065835afe3}{size\+\_\+t}} sprintf (\begin{DoxyParamCaption}\item[{char $\ast$}]{buf,  }\item[{const char $\ast$}]{format,  }\item[{}]{... }\end{DoxyParamCaption})}



{\ttfamily sprintf}将格式字符串{\ttfamily format}的格式控制字符替换为可变参数并输出到{\ttfamily buf}中 


\begin{DoxyParams}{参数}
{\em buf} & 接受输出的字符数组 \\
\hline
{\em format} & 含格式控制字符的格式字符串 \\
\hline
{\em ...} & 可变参数列表 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
size\+\_\+t 输出到buf字符数组中的字符个数
\end{DoxyReturn}
\begin{DoxyNote}{注解}
格式控制字符\+: {\ttfamily \%\mbox{[}flag\mbox{]}\mbox{[}width\mbox{]}\mbox{[}precision\mbox{]}\mbox{[}length\mbox{]}$<$type$>$}. 其中\+:
\begin{DoxyItemize}
\item {\ttfamily type}字段必须存在, 其余字段均可选
\end{DoxyItemize}
\end{DoxyNote}
关于各个字段的说明\+:
\begin{DoxyItemize}
\item {\ttfamily flag}字段\+:
\begin{DoxyItemize}
\item {\ttfamily -\/}\+: 左对齐输出, 默认是右对齐
\item {\ttfamily +}\+: 输出正数前添加加号, 默认不添加
\item {\ttfamily \#}\+: 当{\ttfamily type}为{\ttfamily b}, {\ttfamily o}, {\ttfamily x}, {\ttfamily X}时, 添加前缀{\ttfamily 0b}, {\ttfamily 0}或者{\ttfamily 0x}
\item {\ttfamily 0}\+: 使用{\ttfamily 0}填充对齐, 默认使用空格填充对齐
\end{DoxyItemize}
\item {\ttfamily width}字段\+:
\begin{DoxyItemize}
\item {\ttfamily 数字}\+: 设置对齐的宽度, 例如\+: {\ttfamily printf(\char`\"{}\%5d\char`\"{}, 100)} 将会输出 {\ttfamily 100}
\item {\ttfamily $\ast$\+:} 动态参数, 由后续的数字指定, 例如\+: {\ttfamily printf(\char`\"{}\%$\ast$d\char`\"{}, 5, 10)} 等价于 printf(\char`\"{}\%5d\char`\"{}, 10){\ttfamily  -\/}precision{\ttfamily 字段\+: -\/}.数字{\ttfamily \+: 设置输出的位数, 例如\+:}printf(\char`\"{}\%.\+2d\char`\"{}, 111){\ttfamily 将会输出}11{\ttfamily  -\/}.$\ast${\ttfamily \+: 动态参数, 由后续的数字指定, 例如\+:}printf(\char`\"{}\%.$\ast$d\char`\"{}, 2, 111){\ttfamily 等价于 printf(\char`\"{}\%.\+2d\char`\"{}, 111)}
\end{DoxyItemize}
\item {\ttfamily length}字段\+:
\begin{DoxyItemize}
\item {\ttfamily h}\+: 输出一个16位宽度的整数, 即\+: {\ttfamily short}, {\ttfamily unsigned short}, {\ttfamily int16\+\_\+t}, {\ttfamily uint16\+\_\+t}
\item {\ttfamily l}\+: 输出一个64位宽度的整数, 即\+: {\ttfamily long}, {\ttfamily unsigned long}, {\ttfamily int64\+\_\+t}, {\ttfamily uint64\+\_\+t}
\item {\ttfamily ll}\+: 输出一个64位宽度的整数, 即\+: {\ttfamily long long}, {\ttfamily unsigned long long}
\item PS\+: R\+I\+S\+C-\/V L\+P64中long long和long都是64位
\end{DoxyItemize}
\item {\ttfamily type}字段\+:
\begin{DoxyItemize}
\item {\ttfamily \%}\+: 输出一个{\ttfamily \%}
\item {\ttfamily p}\+: 输出一个指针, 需要转换为(void$\ast$)
\item {\ttfamily c}\+: 输出一个字符
\item {\ttfamily s}\+: 输出一个{\ttfamily \textbackslash{}0}结尾的字符串
\item {\ttfamily b}\+: 以二进制输出一个整数, 无符号
\item {\ttfamily o}\+: 以八进制输出一个整数, 无符号
\item {\ttfamily i}\+: 以十进制输出一个整数, 有符号
\item {\ttfamily d}\+: 以十进制输出一个整数, 有符号
\item {\ttfamily u}\+: 以十进制输出一个整数, 无符号
\item {\ttfamily x}\+: 以十六进制输出一个整数, 小写字母, 无符号
\item {\ttfamily X}\+: 以十六进制输出一个整数, 大写字母, 无符号
\item {\ttfamily n}\+: 到此处已经输出的字符的数量, 不会输出文本, 而是将值保存到地址中. 参考\+: \href{https://blog.csdn.net/zsx0728/article/details/118100389}{\texttt{ https\+://blog.\+csdn.\+net/zsx0728/article/details/118100389}} 
\end{DoxyItemize}
\end{DoxyItemize}\mbox{\Hypertarget{stdfmt_8h_a5d6013cf5c9d1311c9044f649a7d91cf}\label{stdfmt_8h_a5d6013cf5c9d1311c9044f649a7d91cf}} 
\index{stdfmt.h@{stdfmt.h}!vsprintf@{vsprintf}}
\index{vsprintf@{vsprintf}!stdfmt.h@{stdfmt.h}}
\doxysubsubsection{\texorpdfstring{vsprintf()}{vsprintf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_a186ea1339bffb378854987065835afe3}{size\+\_\+t}} vsprintf (\begin{DoxyParamCaption}\item[{char $\ast$}]{str,  }\item[{const char $\ast$}]{format,  }\item[{\mbox{\hyperlink{stdarg_8h_af53f622e3b6c080daeb167c1955d7ec1}{va\+\_\+list}}}]{ap }\end{DoxyParamCaption})}



{\ttfamily vsprintf}按照{\ttfamily format}中指定的格式将{\ttfamily ap}指向的可变参数列表的值复制到{\ttfamily str}中 


\begin{DoxyParams}{参数}
{\em str} & 接受输出的字符数组 \\
\hline
{\em format} & 含格式控制字符的字符串. \\
\hline
{\em ap} & 可变参数列表 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
size\+\_\+t 处理后的字符串(str)的长度
\end{DoxyReturn}
\begin{DoxyNote}{注解}
格式控制字符\+: {\ttfamily \%\mbox{[}flag\mbox{]}\mbox{[}width\mbox{]}\mbox{[}precision\mbox{]}\mbox{[}length\mbox{]}$<$type$>$}. 其中\+:
\begin{DoxyItemize}
\item {\ttfamily type}字段必须存在, 其余字段均可选
\end{DoxyItemize}
\end{DoxyNote}
关于各个字段的说明\+:
\begin{DoxyItemize}
\item {\ttfamily flag}字段\+:
\begin{DoxyItemize}
\item {\ttfamily -\/}\+: 左对齐输出, 默认是右对齐
\item {\ttfamily +}\+: 输出正数前添加加号, 默认不添加
\item {\ttfamily \#}\+: 当{\ttfamily type}为{\ttfamily b}, {\ttfamily o}, {\ttfamily x}, {\ttfamily X}时, 添加前缀{\ttfamily 0b}, {\ttfamily 0}或者{\ttfamily 0x}
\item {\ttfamily 0}\+: 使用{\ttfamily 0}填充对齐, 默认使用空格填充对齐
\end{DoxyItemize}
\item {\ttfamily width}字段\+:
\begin{DoxyItemize}
\item {\ttfamily 数字}\+: 设置对齐的宽度, 例如\+: {\ttfamily printf(\char`\"{}\%5d\char`\"{}, 100)} 将会输出 {\ttfamily 100}
\item {\ttfamily $\ast$\+:} 动态参数, 由后续的数字指定, 例如\+: {\ttfamily printf(\char`\"{}\%$\ast$d\char`\"{}, 5, 10)} 等价于 printf(\char`\"{}\%5d\char`\"{}, 10){\ttfamily  -\/}precision{\ttfamily 字段\+: -\/}.数字{\ttfamily \+: 设置输出的位数, 例如\+:}printf(\char`\"{}\%.\+2d\char`\"{}, 111){\ttfamily 将会输出}11{\ttfamily  -\/}.$\ast${\ttfamily \+: 动态参数, 由后续的数字指定, 例如\+:}printf(\char`\"{}\%.$\ast$d\char`\"{}, 2, 111){\ttfamily 等价于 printf(\char`\"{}\%.\+2d\char`\"{}, 111)}
\end{DoxyItemize}
\item {\ttfamily length}字段\+:
\begin{DoxyItemize}
\item {\ttfamily h}\+: 输出一个16位宽度的整数, 即\+: {\ttfamily short}, {\ttfamily unsigned short}, {\ttfamily int16\+\_\+t}, {\ttfamily uint16\+\_\+t}
\item {\ttfamily l}\+: 输出一个64位宽度的整数, 即\+: {\ttfamily long}, {\ttfamily unsigned long}, {\ttfamily int64\+\_\+t}, {\ttfamily uint64\+\_\+t}
\item {\ttfamily ll}\+: 输出一个64位宽度的整数, 即\+: {\ttfamily long long}, {\ttfamily unsigned long long}
\item PS\+: R\+I\+S\+C-\/V L\+P64中long long和long都是64位
\end{DoxyItemize}
\item {\ttfamily type}字段\+:
\begin{DoxyItemize}
\item {\ttfamily \%}\+: 输出一个{\ttfamily \%}
\item {\ttfamily p}\+: 输出一个指针, 需要转换为(void$\ast$)
\item {\ttfamily c}\+: 输出一个字符
\item {\ttfamily s}\+: 输出一个{\ttfamily \textbackslash{}0}结尾的字符串
\item {\ttfamily b}\+: 以二进制输出一个整数, 无符号
\item {\ttfamily o}\+: 以八进制输出一个整数, 无符号
\item {\ttfamily i}\+: 以十进制输出一个整数, 有符号
\item {\ttfamily d}\+: 以十进制输出一个整数, 有符号
\item {\ttfamily u}\+: 以十进制输出一个整数, 无符号
\item {\ttfamily x}\+: 以十六进制输出一个整数, 小写字母, 无符号
\item {\ttfamily X}\+: 以十六进制输出一个整数, 大写字母, 无符号
\item {\ttfamily n}\+: 到此处已经输出的字符的数量, 不会输出文本, 而是将值保存到地址中. 参考\+: \href{https://blog.csdn.net/zsx0728/article/details/118100389}{\texttt{ https\+://blog.\+csdn.\+net/zsx0728/article/details/118100389}} 
\end{DoxyItemize}
\end{DoxyItemize}