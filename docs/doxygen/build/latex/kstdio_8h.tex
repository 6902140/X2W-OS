\hypertarget{kstdio_8h}{}\doxysection{/home/data/proj/oskernel2023-\/x2w/include/kernel/kstdio.h 文件参考}
\label{kstdio_8h}\index{/home/data/proj/oskernel2023-\/x2w/include/kernel/kstdio.h@{/home/data/proj/oskernel2023-\/x2w/include/kernel/kstdio.h}}


{\ttfamily \mbox{\hyperlink{kstdio_8h}{kstdio.\+h}}}为内核提供了标准输入输出函数  


{\ttfamily \#include \char`\"{}uart.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stdfmt.\+h\char`\"{}}\newline
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{types_8h_a186ea1339bffb378854987065835afe3}{size\+\_\+t}} \mbox{\hyperlink{kstdio_8h_a8af7bea272c9683c94ae833624e0a962}{kprintf}} (const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em kprintf用于格式化输出字符串 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
{\ttfamily \mbox{\hyperlink{kstdio_8h}{kstdio.\+h}}}为内核提供了标准输入输出函数 

\begin{DoxyAuthor}{作者}
Shihong Wang (\href{mailto:jack4shihong@gmail.com}{\texttt{ jack4shihong@gmail.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{版本}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{日期}
2023-\/04-\/09
\end{DoxyDate}
\begin{DoxyWarning}{警告}
{\ttfamily kstdio}库仅供内核使用, 用户程序请使用{\ttfamily ustdio}库
\end{DoxyWarning}
\begin{DoxyCopyright}{版权所有}
Copyright Shihong Wang (c) 2023 with G\+NU Public License V3.\+0 
\end{DoxyCopyright}


\doxysubsection{函数说明}
\mbox{\Hypertarget{kstdio_8h_a8af7bea272c9683c94ae833624e0a962}\label{kstdio_8h_a8af7bea272c9683c94ae833624e0a962}} 
\index{kstdio.h@{kstdio.h}!kprintf@{kprintf}}
\index{kprintf@{kprintf}!kstdio.h@{kstdio.h}}
\doxysubsubsection{\texorpdfstring{kprintf()}{kprintf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{types_8h_a186ea1339bffb378854987065835afe3}{size\+\_\+t}} kprintf (\begin{DoxyParamCaption}\item[{const char $\ast$}]{format,  }\item[{}]{... }\end{DoxyParamCaption})}



kprintf用于格式化输出字符串 


\begin{DoxyParams}{参数}
{\em format} & 含格式控制字符的格式字符串 \\
\hline
{\em ...} & 可变参数列表 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
size\+\_\+t 输出的字符串中的字符数
\end{DoxyReturn}
\begin{DoxyNote}{注解}
{\ttfamily kprintf}函数可以输出的字符串最大长度由{\ttfamily \mbox{\hyperlink{constrains_8h}{constrains.\+h}}}中的{\ttfamily P\+R\+I\+N\+T\+F\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+S\+I\+ZE}宏常量的值决定

格式控制字符\+: {\ttfamily \%\mbox{[}flag\mbox{]}\mbox{[}width\mbox{]}\mbox{[}precision\mbox{]}\mbox{[}length\mbox{]}$<$type$>$}. 其中\+:
\begin{DoxyItemize}
\item {\ttfamily type}字段必须存在, 其余字段均可选
\end{DoxyItemize}
\end{DoxyNote}
关于各个字段的说明\+:
\begin{DoxyItemize}
\item {\ttfamily flag}字段\+:
\begin{DoxyItemize}
\item {\ttfamily -\/}\+: 左对齐输出, 默认是右对齐
\item {\ttfamily +}\+: 输出正数前添加加号, 默认不添加
\item {\ttfamily \#}\+: 当{\ttfamily type}为{\ttfamily b}, {\ttfamily o}, {\ttfamily x}, {\ttfamily X}时, 添加前缀{\ttfamily 0b}, {\ttfamily 0}或者{\ttfamily 0x}
\item {\ttfamily 0}\+: 使用{\ttfamily 0}填充对齐, 默认使用空格填充对齐
\end{DoxyItemize}
\item {\ttfamily width}字段\+:
\begin{DoxyItemize}
\item {\ttfamily 数字}\+: 设置对齐的宽度, 例如\+: {\ttfamily printf(\char`\"{}\%5d\char`\"{}, 100)} 将会输出 {\ttfamily 100}
\item {\ttfamily $\ast$\+:} 动态参数, 由后续的数字指定, 例如\+: {\ttfamily printf(\char`\"{}\%$\ast$d\char`\"{}, 5, 10)} 等价于 printf(\char`\"{}\%5d\char`\"{}, 10){\ttfamily  -\/}precision{\ttfamily 字段\+: -\/}.数字{\ttfamily \+: 设置输出的位数, 例如\+:}printf(\char`\"{}\%.\+2d\char`\"{}, 111){\ttfamily 将会输出}11{\ttfamily  -\/}.$\ast${\ttfamily \+: 动态参数, 由后续的数字指定, 例如\+:}printf(\char`\"{}\%.$\ast$d\char`\"{}, 2, 111){\ttfamily 等价于 printf(\char`\"{}\%.\+2d\char`\"{}, 111)}
\end{DoxyItemize}
\item {\ttfamily length}字段\+:
\begin{DoxyItemize}
\item {\ttfamily h}\+: 输出一个16位宽度的整数, 即\+: {\ttfamily short}, {\ttfamily unsigned short}, {\ttfamily int16\+\_\+t}, {\ttfamily uint16\+\_\+t}
\item {\ttfamily l}\+: 输出一个64位宽度的整数, 即\+: {\ttfamily long}, {\ttfamily unsigned long}, {\ttfamily int64\+\_\+t}, {\ttfamily uint64\+\_\+t}
\item {\ttfamily ll}\+: 输出一个64位宽度的整数, 即\+: {\ttfamily long long}, {\ttfamily unsigned long long}
\item PS\+: R\+I\+S\+C-\/V L\+P64中long long和long都是64位
\end{DoxyItemize}
\item {\ttfamily type}字段\+:
\begin{DoxyItemize}
\item {\ttfamily \%}\+: 输出一个{\ttfamily \%}
\item {\ttfamily p}\+: 输出一个指针, 需要转换为(void$\ast$)
\item {\ttfamily c}\+: 输出一个字符
\item {\ttfamily s}\+: 输出一个{\ttfamily \textbackslash{}0}结尾的字符串
\item {\ttfamily b}\+: 以二进制输出一个整数, 无符号
\item {\ttfamily o}\+: 以八进制输出一个整数, 无符号
\item {\ttfamily i}\+: 以十进制输出一个整数, 有符号
\item {\ttfamily d}\+: 以十进制输出一个整数, 有符号
\item {\ttfamily u}\+: 以十进制输出一个整数, 无符号
\item {\ttfamily x}\+: 以十六进制输出一个整数, 小写字母, 无符号
\item {\ttfamily X}\+: 以十六进制输出一个整数, 大写字母, 无符号
\item {\ttfamily n}\+: 到此处已经输出的字符的数量, 不会输出文本, 而是将值保存到地址中. 参考\+: \href{https://blog.csdn.net/zsx0728/article/details/118100389}{\texttt{ https\+://blog.\+csdn.\+net/zsx0728/article/details/118100389}}
\end{DoxyItemize}
\end{DoxyItemize}

\begin{DoxyWarning}{警告}
{\ttfamily kprintf}函数仅供内核使用, 用户程序请使用{\ttfamily uprintf}函数

目前{\ttfamily kprintf}最终向{\ttfamily uart}输出字符串 
\end{DoxyWarning}
