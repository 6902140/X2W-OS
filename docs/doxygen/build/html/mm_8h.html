<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>X2W-OS: /home/data/proj/oskernel2023-x2w/include/mm.h æ–‡ä»¶å‚è€ƒ</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">X2W-OS
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">X2Wå‚èµ›é˜Ÿä½œå“</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- åˆ¶ä½œè€… Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'æœç´¢');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','æœç´¢');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">ç±»</a> &#124;
<a href="#define-members">å®å®šä¹‰</a> &#124;
<a href="#typedef-members">ç±»å‹å®šä¹‰</a> &#124;
<a href="#func-members">å‡½æ•°</a>  </div>
  <div class="headertitle">
<div class="title">mm.h æ–‡ä»¶å‚è€ƒ</div>  </div>
</div><!--header-->
<div class="contents">

<p><code><a class="el" href="mm_8h.html" title="mm.hæä¾›äº†ä¸€äº›å†…å­˜ç®¡ç†éœ€è¦çš„å®å’Œå‡½æ•°.">mm.h</a></code>æä¾›äº†ä¸€äº›å†…å­˜ç®¡ç†éœ€è¦çš„å®å’Œå‡½æ•°.  
<a href="#details">æ›´å¤š...</a></p>
<div class="textblock"><code>#include &quot;pgable.h&quot;</code><br />
<code>#include &quot;ptregs.h&quot;</code><br />
<code>#include &quot;<a class="el" href="stdbitmap_8h_source.html">stdbitmap.h</a>&quot;</code><br />
</div>
<p><a href="mm_8h_source.html">æµè§ˆæºä»£ç .</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
ç±»</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____pool__t.html">__pool_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">å®šä¹‰å†…å­˜æ± çš„æ•°æ®ç»“æ„  <a href="struct____pool__t.html#details">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____virtual__addr__t.html">__virtual_addr_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">å®šä¹‰è™šæ‹Ÿåœ°å€æ± çš„æ•°æ®ç»“æ„  <a href="struct____virtual__addr__t.html#details">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
å®å®šä¹‰</h2></td></tr>
<tr class="memitem:a850d80ca2291d26b40dc6b25c419f81a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a850d80ca2291d26b40dc6b25c419f81a">PAGE_SHIFT</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:a850d80ca2291d26b40dc6b25c419f81a"><td class="mdescLeft">&#160;</td><td class="mdescRight">é¡µå†…åç§»åœ¨è™šæ‹Ÿåœ°å€ä¸­æœ‰12ä½  <a href="mm_8h.html#a850d80ca2291d26b40dc6b25c419f81a">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a850d80ca2291d26b40dc6b25c419f81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61113da663120ff8a3e513f3fa77b74b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a61113da663120ff8a3e513f3fa77b74b">TABLE_SHIFT</a>&#160;&#160;&#160;9</td></tr>
<tr class="memdesc:a61113da663120ff8a3e513f3fa77b74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">ä¸€ä¸ªé¡µè¡¨çš„åç§»åœ¨è™šæ‹Ÿåœ°å€ä¸­9ä½åç§»  <a href="mm_8h.html#a61113da663120ff8a3e513f3fa77b74b">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a61113da663120ff8a3e513f3fa77b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="mm_8h.html#a850d80ca2291d26b40dc6b25c419f81a">PAGE_SHIFT</a>)</td></tr>
<tr class="memdesc:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">ä¸€ä¸ªé¡µçš„å¤§å°ï¼ˆ2^12bitï¼‰  <a href="mm_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4aa620ce57c7c3171b916de2c5f09f2"><td class="memItemLeft" align="right" valign="top"><a id="ae4aa620ce57c7c3171b916de2c5f09f2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PAGE_MASK</b>&#160;&#160;&#160;(~(<a class="el" href="mm_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>-1))</td></tr>
<tr class="separator:ae4aa620ce57c7c3171b916de2c5f09f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573f7d87a906903bec10256e19a8bb14"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a573f7d87a906903bec10256e19a8bb14">PAGE_ALIGN</a>(addr)&#160;&#160;&#160;(((addr)+<a class="el" href="mm_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>-1)&amp;PAGE_MASK)</td></tr>
<tr class="memdesc:a573f7d87a906903bec10256e19a8bb14"><td class="mdescLeft">&#160;</td><td class="mdescRight">å°†ä¸€ä¸ªåœ°å€ä½¿ç”¨PAGE_MASKæ¥è¿›è¡Œåœ°å€å¯¹é½  <a href="mm_8h.html#a573f7d87a906903bec10256e19a8bb14">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a573f7d87a906903bec10256e19a8bb14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632f076bc583efc1a8c6ec395b5a16c5"><td class="memItemLeft" align="right" valign="top"><a id="a632f076bc583efc1a8c6ec395b5a16c5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PAGE_ALIGN_UP</b>(addr)&#160;&#160;&#160;<a class="el" href="mm_8h.html#a573f7d87a906903bec10256e19a8bb14">PAGE_ALIGN</a>(addr)</td></tr>
<tr class="separator:a632f076bc583efc1a8c6ec395b5a16c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6658a67e8fe0f75b10a65026dcc339"><td class="memItemLeft" align="right" valign="top"><a id="a9c6658a67e8fe0f75b10a65026dcc339"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PAGE_ALIGN_DOWN</b>(addr)&#160;&#160;&#160;(addr &amp; PAGE_MASK)</td></tr>
<tr class="separator:a9c6658a67e8fe0f75b10a65026dcc339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9f78fa0aef0c17bc6cd364396b9758"><td class="memItemLeft" align="right" valign="top"><a id="afa9f78fa0aef0c17bc6cd364396b9758"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PFN_DOWN</b>(x)&#160;&#160;&#160;((x) &gt;&gt; <a class="el" href="mm_8h.html#a850d80ca2291d26b40dc6b25c419f81a">PAGE_SHIFT</a>)</td></tr>
<tr class="separator:afa9f78fa0aef0c17bc6cd364396b9758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267933de1f2afc9011d648dba57ff988"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a267933de1f2afc9011d648dba57ff988">K_HEAP_START</a>&#160;&#160;&#160;0xC0100000</td></tr>
<tr class="memdesc:a267933de1f2afc9011d648dba57ff988"><td class="mdescLeft">&#160;</td><td class="mdescRight">å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå†…å­˜ç©ºé—´çš„èµ·å§‹åœ°å€  <a href="mm_8h.html#a267933de1f2afc9011d648dba57ff988">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a267933de1f2afc9011d648dba57ff988"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
ç±»å‹å®šä¹‰</h2></td></tr>
<tr class="memitem:ab4e8bc202de3328ef1923785bfff3065"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct____pool__t.html">__pool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#ab4e8bc202de3328ef1923785bfff3065">pool_t</a></td></tr>
<tr class="memdesc:ab4e8bc202de3328ef1923785bfff3065"><td class="mdescLeft">&#160;</td><td class="mdescRight">å®šä¹‰å†…å­˜æ± çš„æ•°æ®ç»“æ„  <a href="mm_8h.html#ab4e8bc202de3328ef1923785bfff3065">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:ab4e8bc202de3328ef1923785bfff3065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d40484ded75529eb862b9cc832b98f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct____virtual__addr__t.html">__virtual_addr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#ae6d40484ded75529eb862b9cc832b98f">virtual_addr_t</a></td></tr>
<tr class="memdesc:ae6d40484ded75529eb862b9cc832b98f"><td class="mdescLeft">&#160;</td><td class="mdescRight">å®šä¹‰è™šæ‹Ÿåœ°å€æ± çš„æ•°æ®ç»“æ„  <a href="mm_8h.html#ae6d40484ded75529eb862b9cc832b98f">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:ae6d40484ded75529eb862b9cc832b98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
å‡½æ•°</h2></td></tr>
<tr class="memitem:a0652f9c27490845217db5f3400a0f12c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a0652f9c27490845217db5f3400a0f12c">paging_init</a> (void)</td></tr>
<tr class="memdesc:a0652f9c27490845217db5f3400a0f12c"><td class="mdescLeft">&#160;</td><td class="mdescRight">å¼€å¯åˆ†é¡µåˆ¶åº¦çš„åˆå§‹åŒ–å‡½æ•°  <a href="mm_8h.html#a0652f9c27490845217db5f3400a0f12c">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a0652f9c27490845217db5f3400a0f12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9a66240fe216250e52d6b6e80dd798"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a1c9a66240fe216250e52d6b6e80dd798">enable_mmu_relocate</a> (void)</td></tr>
<tr class="memdesc:a1c9a66240fe216250e52d6b6e80dd798"><td class="mdescLeft">&#160;</td><td class="mdescRight">å¼€å¯ä¸‰çº§åˆ†é¡µSV39çš„ä½¿èƒ½å‡½æ•°  <a href="mm_8h.html#a1c9a66240fe216250e52d6b6e80dd798">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a1c9a66240fe216250e52d6b6e80dd798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5beb0578c75971eb353cd8a67e9c042"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#af5beb0578c75971eb353cd8a67e9c042">get_free_page</a> (void)</td></tr>
<tr class="memdesc:af5beb0578c75971eb353cd8a67e9c042"><td class="mdescLeft">&#160;</td><td class="mdescRight">åˆ†é…ä¸€ä¸ªç‰©ç†é¡µ  <a href="mm_8h.html#af5beb0578c75971eb353cd8a67e9c042">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:af5beb0578c75971eb353cd8a67e9c042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409722b58dcb786ea7ed28c9e2445912"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a409722b58dcb786ea7ed28c9e2445912">free_page</a> (unsigned long p)</td></tr>
<tr class="memdesc:a409722b58dcb786ea7ed28c9e2445912"><td class="mdescLeft">&#160;</td><td class="mdescRight">é‡Šæ”¾ä¸€ä¸ªç‰©ç†é¡µ  <a href="mm_8h.html#a409722b58dcb786ea7ed28c9e2445912">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a409722b58dcb786ea7ed28c9e2445912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c4527cff3f92290891f1b1defefd0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#a35c4527cff3f92290891f1b1defefd0c">mem_init</a> (unsigned long start_mem, unsigned long end_mem)</td></tr>
<tr class="memdesc:a35c4527cff3f92290891f1b1defefd0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">å†…å­˜åˆå§‹åŒ–å‡½æ•°ï¼Œåœ¨å…¶ä¸­å®ç°äº†å„ç§å†…å­˜æ± çš„ç®¡ç†ï¼Œä½å›¾çš„åˆå§‹åŒ–ï¼Œå†…å­˜ç©ºé—´çš„ç»Ÿè®¡ç­‰ä»»åŠ¡  <a href="mm_8h.html#a35c4527cff3f92290891f1b1defefd0c">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:a35c4527cff3f92290891f1b1defefd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad885b41f536f9dea88afcb34406fbbe9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mm_8h.html#ad885b41f536f9dea88afcb34406fbbe9">__create_pgd_mapping</a> (<a class="el" href="structpgd__t.html">pgd_t</a> *pgdir, unsigned long phys, unsigned long virt, unsigned long size, <a class="el" href="structpgprot__t.html">pgprot_t</a> prot, unsigned long(*alloc_pgtable)(void), unsigned long flags)</td></tr>
<tr class="memdesc:ad885b41f536f9dea88afcb34406fbbe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">PGDå†…å­˜æ˜ å°„å‡½æ•°  <a href="mm_8h.html#ad885b41f536f9dea88afcb34406fbbe9">æ›´å¤š...</a><br /></td></tr>
<tr class="separator:ad885b41f536f9dea88afcb34406fbbe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecfb3f0bcce40e78a581b9ea34be214b"><td class="memItemLeft" align="right" valign="top"><a id="aecfb3f0bcce40e78a581b9ea34be214b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_stage2_page_mapping</b> (unsigned long gpa, unsigned long hpa, unsigned long size, <a class="el" href="structpgprot__t.html">pgprot_t</a> prot)</td></tr>
<tr class="separator:aecfb3f0bcce40e78a581b9ea34be214b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e379de9f5a1584f07a916fc7fec756"><td class="memItemLeft" align="right" valign="top"><a id="ad3e379de9f5a1584f07a916fc7fec756"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>write_stage2_pg_reg</b> (void)</td></tr>
<tr class="separator:ad3e379de9f5a1584f07a916fc7fec756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c40388c467d2f7e9fd4572d13487209"><td class="memItemLeft" align="right" valign="top"><a id="a3c40388c467d2f7e9fd4572d13487209"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>stage2_page_fault</b> (struct <a class="el" href="structpt__regs.html">pt_regs</a> *regs)</td></tr>
<tr class="separator:a3c40388c467d2f7e9fd4572d13487209"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">è¯¦ç»†æè¿°</h2>
<div class="textblock"><p><code><a class="el" href="mm_8h.html" title="mm.hæä¾›äº†ä¸€äº›å†…å­˜ç®¡ç†éœ€è¦çš„å®å’Œå‡½æ•°.">mm.h</a></code>æä¾›äº†ä¸€äº›å†…å­˜ç®¡ç†éœ€è¦çš„å®å’Œå‡½æ•°. </p>
<dl class="section author"><dt>ä½œè€…</dt><dd>Zhuir Xiao (<a href="#" onclick="location.href='mai'+'lto:'+'xzr'+'33'+'561'+'42'+'450'+'@g'+'mai'+'l.'+'com'; return false;">xzr33<span style="display: none;">.nosp@m.</span>5614<span style="display: none;">.nosp@m.</span>2450@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a>) </dd></dl>
<dl class="section version"><dt>ç‰ˆæœ¬</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>æ—¥æœŸ</dt><dd>2023-04-26</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">å¾…åŠäº‹é¡¹:</a></b></dt><dd><ol type="1">
<li>éœ€è¦è¿›è¡Œæµ‹è¯•, ä»¥æµ‹è¯•å‡½æ•°æ­£ç¡®æ€§(å·²ç»åœ¨test_memory.cä¸­å®Œæˆ)</li>
</ol>
</dd></dl>
<dl class="section warning"><dt>è­¦å‘Š</dt><dd></dd></dl>
<dl class="section copyright"><dt>ç‰ˆæƒæ‰€æœ‰</dt><dd>Copyright Zhuiri Xiao (c) 2023 with GNU Public License V3.0 </dd></dl>
</div><h2 class="groupheader">å®å®šä¹‰è¯´æ˜</h2>
<a id="a267933de1f2afc9011d648dba57ff988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267933de1f2afc9011d648dba57ff988">&#9670;&nbsp;</a></span>K_HEAP_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K_HEAP_START&#160;&#160;&#160;0xC0100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿå†…å­˜ç©ºé—´çš„èµ·å§‹åœ°å€ </p>

</div>
</div>
<a id="a573f7d87a906903bec10256e19a8bb14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a573f7d87a906903bec10256e19a8bb14">&#9670;&nbsp;</a></span>PAGE_ALIGN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ALIGN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr</td><td>)</td>
          <td>&#160;&#160;&#160;(((addr)+<a class="el" href="mm_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>-1)&amp;PAGE_MASK)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>å°†ä¸€ä¸ªåœ°å€ä½¿ç”¨PAGE_MASKæ¥è¿›è¡Œåœ°å€å¯¹é½ </p>

</div>
</div>
<a id="a850d80ca2291d26b40dc6b25c419f81a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850d80ca2291d26b40dc6b25c419f81a">&#9670;&nbsp;</a></span>PAGE_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_SHIFT&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>é¡µå†…åç§»åœ¨è™šæ‹Ÿåœ°å€ä¸­æœ‰12ä½ </p>

</div>
</div>
<a id="a7d467c1d283fdfa1f2081ba1e0d01b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d467c1d283fdfa1f2081ba1e0d01b6e">&#9670;&nbsp;</a></span>PAGE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_SIZE&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="mm_8h.html#a850d80ca2291d26b40dc6b25c419f81a">PAGE_SHIFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ä¸€ä¸ªé¡µçš„å¤§å°ï¼ˆ2^12bitï¼‰ </p>

</div>
</div>
<a id="a61113da663120ff8a3e513f3fa77b74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61113da663120ff8a3e513f3fa77b74b">&#9670;&nbsp;</a></span>TABLE_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TABLE_SHIFT&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ä¸€ä¸ªé¡µè¡¨çš„åç§»åœ¨è™šæ‹Ÿåœ°å€ä¸­9ä½åç§» </p>

</div>
</div>
<h2 class="groupheader">ç±»å‹å®šä¹‰è¯´æ˜</h2>
<a id="ab4e8bc202de3328ef1923785bfff3065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e8bc202de3328ef1923785bfff3065">&#9670;&nbsp;</a></span>pool_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct____pool__t.html">__pool_t</a> <a class="el" href="mm_8h.html#ab4e8bc202de3328ef1923785bfff3065">pool_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>å®šä¹‰å†…å­˜æ± çš„æ•°æ®ç»“æ„ </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>åŒ…å« <br  />
 pool_bitmap; æœ¬å†…å­˜æ± çš„ä½å›¾ï¼Œç”¨äºç®¡ç†ç‰©ç†å†…å­˜ phy_addr_start; æœ¬å†…å­˜æ± æ‰€ç®¡ç†çš„ç‰©ç†å†…å­˜çš„èµ·å§‹åœ°å€ pool_size; æœ¬å†…å­˜æ± çš„å­—èŠ‚å®¹é‡ mutex_t mutex; ç”¨äºå®ç°äº’æ–¥è®¿é—®å†…å­˜æ± æš‚æ—¶æ²¡æœ‰å®ç° <br  />
 </dd></dl>

</div>
</div>
<a id="ae6d40484ded75529eb862b9cc832b98f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d40484ded75529eb862b9cc832b98f">&#9670;&nbsp;</a></span>virtual_addr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct____virtual__addr__t.html">__virtual_addr_t</a> <a class="el" href="mm_8h.html#ae6d40484ded75529eb862b9cc832b98f">virtual_addr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>å®šä¹‰è™šæ‹Ÿåœ°å€æ± çš„æ•°æ®ç»“æ„ </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>åŒ…å« <br  />
 vaddr_bitmap; è™šæ‹Ÿå†…å­˜çš„ä½å›¾ vaddr_start; è™šæ‹Ÿå†…å­˜çš„èµ·å§‹çš„ç‰©ç†åœ°å€ <br  />
 </dd></dl>

</div>
</div>
<h2 class="groupheader">å‡½æ•°è¯´æ˜</h2>
<a id="ad885b41f536f9dea88afcb34406fbbe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad885b41f536f9dea88afcb34406fbbe9">&#9670;&nbsp;</a></span>__create_pgd_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __create_pgd_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpgd__t.html">pgd_t</a> *&#160;</td>
          <td class="paramname"><em>pgdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>phys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>virt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpgprot__t.html">pgprot_t</a>&#160;</td>
          <td class="paramname"><em>prot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long(*)(void)&#160;</td>
          <td class="paramname"><em>alloc_pgtable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PGDå†…å­˜æ˜ å°„å‡½æ•° </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>è¯¥å‡½æ•°ä¼šï¼š 1ï¼šè¾“å…¥çš„è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€è¿˜æœ‰è¦æ˜ å°„çš„å†…å­˜å¤§å°å¡«å……PGDè¡¨é¡¹ 2: å°†ä¸€æ®µç‰©ç†å†…å­˜æ˜ å°„åˆ°ä¸€ä¸ªæŒ‡å®šçš„è™šæ‹Ÿåœ°å€èŒƒå›´å†…ã€‚å…·ä½“å®ç°æ˜¯é€šè¿‡å¯¹è™šæ‹Ÿåœ°å€è¿›è¡Œå¯¹é½å’Œåˆ†å‰²ï¼Œé€ä¸ªå¤„ç†æ¯ä¸ªPGDè¡¨é¡¹ï¼Œå¹¶å°†å…¶æŒ‡å‘ç›¸åº”çš„PMDè¡¨é¡¹æ¥å®ç°å¯¹æ•´ä¸ªè™šæ‹Ÿåœ°å€èŒƒå›´çš„æ˜ å°„ã€‚åœ¨æ˜ å°„çš„è¿‡ç¨‹ä¸­ï¼Œå‡½æ•°è¿˜ä¼šè°ƒç”¨alloc_init_pmd()å‡½æ•°ï¼Œä¸ºæ¯ä¸ªPMDè¡¨é¡¹åˆ†é…å¹¶åˆå§‹åŒ–ä¸€ä¸ªç‰©ç†é¡µé¢ã€‚è¯¥å‡½æ•°çš„å‚æ•°åŒ…æ‹¬PGDè¡¨åŸºåœ°å€ã€éœ€è¦æ˜ å°„çš„ç‰©ç†åœ°å€ã€è™šæ‹Ÿåœ°å€ã€å¤§å°ã€ä¿æŠ¤æ ‡å¿—ã€åˆ†é…å‡½æ•°ã€æ ‡å¿—ç­‰ã€‚ </dd></dl>

</div>
</div>
<a id="a1c9a66240fe216250e52d6b6e80dd798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c9a66240fe216250e52d6b6e80dd798">&#9670;&nbsp;</a></span>enable_mmu_relocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enable_mmu_relocate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>å¼€å¯ä¸‰çº§åˆ†é¡µSV39çš„ä½¿èƒ½å‡½æ•° </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>å®ç°åœ¨kernel/mmu_enableä¸­ä½¿ç”¨æ±‡ç¼–è¯­è¨€å®ç° </dd></dl>

</div>
</div>
<a id="a409722b58dcb786ea7ed28c9e2445912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a409722b58dcb786ea7ed28c9e2445912">&#9670;&nbsp;</a></span>free_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_page </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>é‡Šæ”¾ä¸€ä¸ªç‰©ç†é¡µ </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>è¯¥å‡½æ•°ä¼š 1ï¼šæ ¹æ®è¾“å…¥çš„ç‰©ç†åœ°å€é‡Šæ”¾ä¸€ä¸ªä½ 2ï¼šè®¾ç½®ä½å›¾ç›¸åº”ä½ä¸º0 </dd></dl>

</div>
</div>
<a id="af5beb0578c75971eb353cd8a67e9c042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5beb0578c75971eb353cd8a67e9c042">&#9670;&nbsp;</a></span>get_free_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long get_free_page </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>åˆ†é…ä¸€ä¸ªç‰©ç†é¡µ </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>è¯¥å‡½æ•°ä¼š 1ï¼šæ‰«ækernelçš„bitmapç„¶åè¿”å›ä¸€ä¸ªç©ºé—²çš„ç‰©ç†åœ°å€ 2ï¼š å°†bitmapç›¸åº”ä½ç½®è®¾ç½®ä¸º1 3ï¼šæš‚æœªä½¿ç”¨ğŸ”’ä¿æŠ¤ï¼Œå› ä¸ºäº’æ–¥æœºåˆ¶è¿˜æœªå®ç° </dd></dl>

</div>
</div>
<a id="a35c4527cff3f92290891f1b1defefd0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c4527cff3f92290891f1b1defefd0c">&#9670;&nbsp;</a></span>mem_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mem_init </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>start_mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>end_mem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>å†…å­˜åˆå§‹åŒ–å‡½æ•°ï¼Œåœ¨å…¶ä¸­å®ç°äº†å„ç§å†…å­˜æ± çš„ç®¡ç†ï¼Œä½å›¾çš„åˆå§‹åŒ–ï¼Œå†…å­˜ç©ºé—´çš„ç»Ÿè®¡ç­‰ä»»åŠ¡ </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>è¯¥å‡½æ•°ä¼šï¼š 1ï¼šæ ¹æ®åˆå§‹å†…å­˜ç®¡ç†åœ°å€start_memï¼Œå†…å­˜ç®¡ç†ç»ˆæ­¢åœ°å€end_memæ¥ç»Ÿè®¡å†…å­˜å¤§å°ï¼Œé¡µæ•°... 2: åˆå§‹åŒ–å„ç§å†…å­˜æ± ä»¥åŠä½å›¾ </dd></dl>

</div>
</div>
<a id="a0652f9c27490845217db5f3400a0f12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0652f9c27490845217db5f3400a0f12c">&#9670;&nbsp;</a></span>paging_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void paging_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>å¼€å¯åˆ†é¡µåˆ¶åº¦çš„åˆå§‹åŒ–å‡½æ•° </p>
<dl class="section note"><dt>æ³¨è§£</dt><dd>è¯¥å‡½æ•°ä¼š 1ï¼šå»ºç«‹ä¸€ä¸ªPGDé¡µï¼Œç„¶åå°†å…¶æ¸…ç©º 2ï¼šæ ¹æ®mem_init()ç»Ÿè®¡å¾—åˆ°çš„å†…å­˜çš„ä¿¡æ¯åœ¨å†…å­˜ç©ºé—´å…ˆå»ºç«‹ä¸‰çº§é¡µè¡¨ 3ï¼šå»ºç«‹åˆ†é¡µæœºåˆ¶ä¹‹åä½¿èƒ½mmuæ¨¡å— </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
åˆ¶ä½œè€… &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
