<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="csr_8h" kind="file" language="C++">
    <compoundname>csr.h</compoundname>
    <includedby refid="secall_8h" local="yes">/home/data/proj/oskernel2023-x2w/include/sbi/secall.h</includedby>
    <invincdepgraph>
      <node id="2">
        <label>/home/data/proj/oskernel2023-x2w/include/sbi/secall.h</label>
        <link refid="secall_8h"/>
      </node>
      <node id="1">
        <label>/home/data/proj/oskernel2023-x2w/include/asm/csr.h</label>
        <link refid="csr_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="csr_8h_1abe90ababbc031e196e373c27c729ecde" prot="public" static="no">
        <name>SATP_MODE_39</name>
        <initializer>(1UL &lt;&lt; 63)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="24" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="24" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a37ad3140d4956a01548f08823d84d0cc" prot="public" static="no">
        <name>PRIVILEGE_U</name>
        <initializer>0UL</initializer>
        <briefdescription>
<para>用户态特权级 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="28" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="28" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1af76a15d4ca67c4f2def9490c764f5aa4" prot="public" static="no">
        <name>PRIVILEGE_S</name>
        <initializer>1UL</initializer>
        <briefdescription>
<para>监管态特权级 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="30" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="30" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a61fcc9c63b58417818381f5d03420536" prot="public" static="no">
        <name>PRIVILEGE_M</name>
        <initializer>3UL</initializer>
        <briefdescription>
<para>机器态特权级 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="32" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="32" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a93f797aa24a8dcc039cdb87774c979e2" prot="public" static="no">
        <name>INTR_DS</name>
        <initializer>0UL</initializer>
        <briefdescription>
<para>中断开启 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="36" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="36" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a918fc7ae0a636b642d2a37f5c2e963ab" prot="public" static="no">
        <name>INTR_EN</name>
        <initializer>1UL</initializer>
        <briefdescription>
<para>中断关闭 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="38" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="38" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ac7a0e3b7853cd17e669f0f5da78cf905" prot="public" static="no">
        <name>MSTATUS_MPP_SHIFT</name>
        <initializer>11</initializer>
        <briefdescription>
<para><computeroutput>MPP</computeroutput>域在<computeroutput>mstatus</computeroutput>寄存器的偏移 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="45" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="45" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a2acf460f4ceda869c88c00878cb44314" prot="public" static="no">
        <name>MSTATUS_MPP</name>
        <initializer>(3UL &lt;&lt; <ref refid="csr_8h_1ac7a0e3b7853cd17e669f0f5da78cf905" kindref="member">MSTATUS_MPP_SHIFT</ref>)</initializer>
        <briefdescription>
<para><computeroutput>MPP</computeroutput>域选择子 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="47" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="47" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aebc8dae20b3f619d03f0291db287f6de" prot="public" static="no">
        <name>MSTATUS_MPP_U</name>
        <initializer>(<ref refid="csr_8h_1a37ad3140d4956a01548f08823d84d0cc" kindref="member">PRIVILEGE_U</ref> &lt;&lt; <ref refid="csr_8h_1ac7a0e3b7853cd17e669f0f5da78cf905" kindref="member">MSTATUS_MPP_SHIFT</ref>)</initializer>
        <briefdescription>
<para><computeroutput>MPP = 0b00</computeroutput>, 中断发生前的特权级为U </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="49" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="49" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a484f2297ebe1535484c13f12f70e602a" prot="public" static="no">
        <name>MSTATUS_MPP_S</name>
        <initializer>(<ref refid="csr_8h_1af76a15d4ca67c4f2def9490c764f5aa4" kindref="member">PRIVILEGE_S</ref> &lt;&lt; <ref refid="csr_8h_1ac7a0e3b7853cd17e669f0f5da78cf905" kindref="member">MSTATUS_MPP_SHIFT</ref>)</initializer>
        <briefdescription>
<para><computeroutput>MPP = 0b01</computeroutput>, 中断发生前的特权级为S </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="51" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="51" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aa6621785868a067469e73ac9babeed99" prot="public" static="no">
        <name>MSTATUS_MPP_M</name>
        <initializer>(<ref refid="csr_8h_1a61fcc9c63b58417818381f5d03420536" kindref="member">PRIVILEGE_M</ref> &lt;&lt; <ref refid="csr_8h_1ac7a0e3b7853cd17e669f0f5da78cf905" kindref="member">MSTATUS_MPP_SHIFT</ref>)</initializer>
        <briefdescription>
<para><computeroutput>MPP = 0b11</computeroutput>, 中断发生前的特权级为M </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="53" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="53" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a5b7a508b30cc8240d85c72373075130f" prot="public" static="no">
        <name>MSTATUS_MPIE_SHIFT</name>
        <initializer>7</initializer>
        <briefdescription>
<para><computeroutput>MPIE</computeroutput>域在<computeroutput>mstatus</computeroutput>寄存器的偏移 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="58" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="58" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a05fc511bb3d22b5e1abe8b9ccb30e7b3" prot="public" static="no">
        <name>MSTATUS_MPIE</name>
        <initializer>(1UL &lt;&lt; <ref refid="csr_8h_1a5b7a508b30cc8240d85c72373075130f" kindref="member">MSTATUS_MPIE_SHIFT</ref>)</initializer>
        <briefdescription>
<para><computeroutput>MPIE</computeroutput>域选择子 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="60" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="60" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a0d829111cf513e8d2ccf2ab434b17bdd" prot="public" static="no">
        <name>MSTATUS_MPIE_DS</name>
        <initializer>(<ref refid="csr_8h_1a93f797aa24a8dcc039cdb87774c979e2" kindref="member">INTR_DS</ref> &lt;&lt; <ref refid="csr_8h_1a5b7a508b30cc8240d85c72373075130f" kindref="member">MSTATUS_MPIE_SHIFT</ref>)</initializer>
        <briefdescription>
<para><computeroutput>MPIE = 0</computeroutput>, 中断发生前中断关闭 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="62" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="62" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a6ef6d2229ec2a9328ff08de7dea7cc9c" prot="public" static="no">
        <name>MSTATUS_MPIE_EN</name>
        <initializer>(<ref refid="csr_8h_1a918fc7ae0a636b642d2a37f5c2e963ab" kindref="member">INTR_EN</ref> &lt;&lt; <ref refid="csr_8h_1a5b7a508b30cc8240d85c72373075130f" kindref="member">MSTATUS_MPIE_SHIFT</ref>)</initializer>
        <briefdescription>
<para><computeroutput>MPIE = 1</computeroutput>, 中断发生前中断开启 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="64" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="64" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a9fa813a9ac9c0fdd06b56201acd6a593" prot="public" static="no">
        <name>TVEC_TRAP_DIRECT</name>
        <initializer>(0b00)</initializer>
        <briefdescription>
<para><computeroutput>TVEC_TRAP_DIRECT</computeroutput>宏表示<computeroutput>mtvec</computeroutput>寄存器处于直接模式 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="70" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="70" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aa12a22dbf2aa87997035c18f1b76c175" prot="public" static="no">
        <name>TVEC_TRAP_INDIRECT</name>
        <initializer>(0b01)</initializer>
        <briefdescription>
<para><computeroutput>MTVEC_TRAP_INDIRECT</computeroutput>宏表示<computeroutput>mtvec</computeroutput>寄存器处于间接模式 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="72" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="72" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aef218b97155a1af82eb4129c309889ff" prot="public" static="no">
        <name>CAUSE_INTERRUPT_FLAG</name>
        <initializer>(1UL &lt;&lt; 63)</initializer>
        <briefdescription>
<para><computeroutput>CAUSE_INTERRUPT_FLAG</computeroutput>宏用于判断当前陷入是否为中断 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="78" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="78" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1add33b6ebebec022bf3b124bf429482ac" prot="public" static="no">
        <name>CAUSE_EXCEPTION_FLAG</name>
        <initializer>(0UL &lt;&lt; 64)</initializer>
        <briefdescription>
<para><computeroutput>CAUSE_EXCEPTION_FLAG</computeroutput>宏用于判断当前陷入是否为异常 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="80" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="80" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aa75388e27235c7b388af4f88ea4de30c" prot="public" static="no">
        <name>CAUSE_EXCEPTION_MISALIGNED_FETCH</name>
        <initializer>0x00</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="83" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="83" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a415d18c5786e6465bb3b1bc8f3baeb21" prot="public" static="no">
        <name>CAUSE_EXCEPTION_FETCH_ACCESS</name>
        <initializer>0x01</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="84" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="84" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a7a290a6569311a1a437d368c3dfc19dd" prot="public" static="no">
        <name>CAUSE_EXCEPTION_ILLEGAL_INSTRUCTION</name>
        <initializer>0x02</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="85" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="85" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ac3a63cbefe5dbb40124e1c6282475606" prot="public" static="no">
        <name>CAUSE_EXCEPTION_BREAKPOINT</name>
        <initializer>0x03</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="86" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="86" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aebf57c1677a8867b38a302d8649ee0ae" prot="public" static="no">
        <name>CAUSE_EXCEPTION_MISALIGNED_LOAD</name>
        <initializer>0x04</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="87" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="87" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1addec7d0bf0db39e50dc98929932e069f" prot="public" static="no">
        <name>CAUSE_EXCEPTION_LOAD_ACCESS</name>
        <initializer>0x05</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="88" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="88" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a1be2287df370d3ca2634a3dfb1c0fb65" prot="public" static="no">
        <name>CAUSE_EXCEPTION_MISALIGNED_STORE</name>
        <initializer>0x06</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="89" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="89" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1afbb82cc93014b07f9b16dd512cc4073e" prot="public" static="no">
        <name>CAUSE_EXCEPTION_STORE_ACCESS</name>
        <initializer>0x07</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="90" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="90" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aeaf8b89d849833447273cb34b86314cc" prot="public" static="no">
        <name>CAUSE_EXCEPTION_USER_ECALL</name>
        <initializer>0x08</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="91" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="91" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a2ac310d1549659c056128c7e638baa10" prot="public" static="no">
        <name>CAUSE_EXCEPTION_SUPERVISOR_ECALL</name>
        <initializer>0x09</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="92" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="92" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a22297fe99a059da2b933ac65465dcd53" prot="public" static="no">
        <name>CAUSE_EXCEPTION_VIRTUAL_SUPERVISOR_ECALL</name>
        <initializer>0x0A</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="93" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="93" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a0b6e1f90e8a71d8a408403f9dfeb11f0" prot="public" static="no">
        <name>CAUSE_EXCEPTION_MACHINE_ECALL</name>
        <initializer>0x0B</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="94" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="94" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aa01619cb10a923eab5fbcab0e02328c0" prot="public" static="no">
        <name>CAUSE_EXCEPTION_FETCH_PAGE_FAULT</name>
        <initializer>0x0C</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="95" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="95" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a6adb3513f1f1b2f7f5eb240738cb459b" prot="public" static="no">
        <name>CAUSE_EXCEPTION_LOAD_PAGE_FAULT</name>
        <initializer>0x0D</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="96" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="96" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ae520779fdaf92132d1158ff98b8d0090" prot="public" static="no">
        <name>CAUSE_EXCEPTION_STORE_PAGE_FAULT</name>
        <initializer>0x0F</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="97" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="97" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a4e34e7e27dbfedf1439841e7197055f4" prot="public" static="no">
        <name>CAUSE_EXCEPTION_FETCH_GUEST_PAGE_FAULT</name>
        <initializer>0x14</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="98" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="98" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ae15cd727a3ff3f1170271c1789b18ff0" prot="public" static="no">
        <name>CAUSE_EXCEPTION_LOAD_GUEST_PAGE_FAULT</name>
        <initializer>0x15</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="99" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="99" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a29cb2113270261161ae62fbcc1757a0d" prot="public" static="no">
        <name>CAUSE_EXCEPTION_VIRTUAL_INST_FAULT</name>
        <initializer>0x16</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="100" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="100" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a3c3b6c845ff2ec0d59e899ea4a0761ab" prot="public" static="no">
        <name>CAUSE_EXCEPTION_STORE_GUEST_PAGE_FAULT</name>
        <initializer>0x17</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="101" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="101" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1abdb78e038610d0741be3de20372433ce" prot="public" static="no">
        <name>CAUSE_INTERRUPT_U_SOFTWARE_INTERRUPT</name>
        <initializer>0x00</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="105" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="105" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ae6cd48b2ed18acc2c8178b70cf05da41" prot="public" static="no">
        <name>CAUSE_INTERRUPT_S_SOFTWARE_INTERRUPT</name>
        <initializer>0x01</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="106" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="106" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a80fdade90011f1312a6a56a7195f3040" prot="public" static="no">
        <name>CAUSE_INTERRUPT_M_SOFTWARE_INTERRUPT</name>
        <initializer>0x03</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="107" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="107" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a9ac68adf705b9331a4c94b159687d30d" prot="public" static="no">
        <name>CAUSE_INTERRUPT_U_TIMER_INTERRUPT</name>
        <initializer>0x04</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="108" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="108" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1af1463e49018ac4b6a6ddf7670769b072" prot="public" static="no">
        <name>CAUSE_INTERRUPT_S_TIMER_INTERRUPT</name>
        <initializer>0x05</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="109" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="109" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a160e1f44ce942d80e5f0e512673a8e3c" prot="public" static="no">
        <name>CAUSE_INTERRUPT_M_TIMER_INTERRUPT</name>
        <initializer>0x07</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="110" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="110" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ab5fabf52b94702133bbb3d17046caf44" prot="public" static="no">
        <name>CAUSE_INTERRUPT_U_EXTERNAL_INTERRUPT</name>
        <initializer>0x08</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="111" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="111" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a6099f1bd2cc677b042f9391773cece10" prot="public" static="no">
        <name>CAUSE_INTERRUPT_S_EXTERNAL_INTERRUPT</name>
        <initializer>0x09</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="112" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="112" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ae2b18dc42bfe5bc31ec1d0956b976efa" prot="public" static="no">
        <name>CAUSE_INTERRUPT_M_EXTERNAL_INTERRUPT</name>
        <initializer>0x11</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="113" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="113" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a462f547447f3751fa2d55f04ba01fab6" prot="public" static="no">
        <name>MIP_U_SOFTWARE_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_U_SOFTWARE_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="118" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="118" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a110d08135f6f60deee9b7402955d731f" prot="public" static="no">
        <name>MIP_S_SOFTWARE_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_S_SOFTWARE_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="119" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="119" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a1bfcda08e15446e332ee5c97e7451c1e" prot="public" static="no">
        <name>MIP_M_SOFTWARE_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_M_SOFTWARE_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="120" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="120" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a4ecd0f900d49546be4cf57fd6a1402a5" prot="public" static="no">
        <name>MIP_U_TIMER_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_U_TIMER_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="121" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="121" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a023632324cde4e1787f61bf373bb6a38" prot="public" static="no">
        <name>MIP_S_TIMER_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_S_TIMER_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="122" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="122" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1af7e7ae7a988b64226b794354bf6b57d1" prot="public" static="no">
        <name>MIP_M_TIMER_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_M_TIMER_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="123" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="123" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a575942391b8f0686bec79151eeadb82e" prot="public" static="no">
        <name>MIP_U_EXTERNAL_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_U_EXTERNAL_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="124" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="124" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1ab00ed7cdf31f5a872f798ed2240efbd8" prot="public" static="no">
        <name>MIP_S_EXTERNAL_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_S_EXTERNAL_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="125" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="125" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a297777e25396598b0ea467b6e8187ec3" prot="public" static="no">
        <name>MIP_M_EXTERNAL_INTERRUPT</name>
        <initializer>(1UL &lt;&lt; CAUSE_INTERRUPT_M_EXTERNAL_INTERRUPT)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="126" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="126" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1aea23c529d81311e98bf5756f13e20b53" prot="public" static="no">
        <name>SET_FIELD</name>
        <param><defname>origin</defname></param>
        <param><defname>which</defname></param>
        <param><defname>fieldval</defname></param>
        <initializer>(((origin) &amp; ~(which)) | ((fieldval) * ((which) &amp; ~((which) - 1))))</initializer>
        <briefdescription>
<para><computeroutput>SET_FIELD</computeroutput>宏用于将<computeroutput>origin</computeroutput>中<computeroutput>which</computeroutput>所指定的<computeroutput>field</computeroutput>的值设置为<computeroutput>fieldval</computeroutput> </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>origin</parametername>
</parameternamelist>
<parameterdescription>
<para>初始值 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>which</parametername>
</parameternamelist>
<parameterdescription>
<para>设置的<computeroutput>field</computeroutput> </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>fieldval</parametername>
</parameternamelist>
<parameterdescription>
<para><computeroutput>field</computeroutput>将被设置的值</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>需要注意的点:<itemizedlist>
<listitem><para><computeroutput>x &amp; ~mask</computeroutput>: 将x的非<computeroutput>mask</computeroutput>清0</para>
</listitem><listitem><para><computeroutput>x &amp; ~(x - 1)</computeroutput>: 用于一个数的二进制表示中最右边的非零位（也称作最低位的1），并将其它位都置为0</para>
</listitem><listitem><para>而后利用这个最右边的非零位表示需要左移多少位, 这里是用乘法实现的左移</para>
</listitem><listitem><para>最后在和mask对应位清0之后的原值与就能得到最终需要的值</para>
</listitem></itemizedlist>
</para>
</simplesect>
一个详细的例子<computeroutput>origin = 0b1001_0001</computeroutput>, <computeroutput>which = 0b0011_0000</computeroutput>, <computeroutput>fieldval = 0b11</computeroutput>则:<itemizedlist>
<listitem><para><computeroutput>which &amp; ~(which - 1) = 0b0001_0000</computeroutput></para>
</listitem><listitem><para><computeroutput>fieldval * (which &amp; ~(which - 1)) = 0b0011_0000</computeroutput></para>
</listitem><listitem><para><computeroutput>origin &amp; !(which) = 0b1011_0001</computeroutput></para>
</listitem><listitem><para><computeroutput>... | ... = 0b1000_0000</computeroutput> </para>
</listitem></itemizedlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="157" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="157" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a29cc2e18dc58da69b8d351a52e193df9" prot="public" static="no">
        <name>read_csr</name>
        <param><defname>csr</defname></param>
        <initializer>    ({                            \
    register unsigned long __v;                     \
    asm volatile(                                   \
        &quot;csrr %0, &quot; #csr                            \
        : &quot;=r&quot; (__v)                                \
        :                                           \
        : &quot;memory&quot;                                  \
    );                                              \
    __v;                                            \
})</initializer>
        <briefdescription>
<para><computeroutput>read_csr</computeroutput>用于读取的<computeroutput>csr</computeroutput>寄存器的值并返回 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>csr</parametername>
</parameternamelist>
<parameterdescription>
<para>要读取的<computeroutput>CSR</computeroutput>寄存器名</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>uint64_t 读取得到的<computeroutput>csr</computeroutput>寄存器的值</para>
</simplesect>
<simplesect kind="note"><para>通常情况下，在内联汇编代码块的最后一条语句中将需要返回的值存储在一个特定的变量中，然后该变量将被作为代码块的返回值返回给调用者。在GCC扩展中，这个变量通常被命名为__v（两个下划线 + v），并且在代码块的最后一行写上__v;语句来表示将其作为返回值返回给调用者。 </para>
</simplesect>
<simplesect kind="note"><para>写入到<computeroutput>CSR</computeroutput>寄存器的变量必须要存在通用寄存器中 </para>
</simplesect>
<simplesect kind="note"><para><computeroutput>read_csr</computeroutput>中使用<computeroutput>#</computeroutput>将<computeroutput>csr</computeroutput>转为字符串, 而后利用<computeroutput>C</computeroutput>语言的字符串拼接得到最终的汇编语句 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="171" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="171" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="csr_8h_1a920ec7be97d0deaaf7e4734fb062c555" prot="public" static="no">
        <name>write_csr</name>
        <param><defname>csr</defname></param>
        <param><defname>value</defname></param>
        <initializer>    ({                    \
    unsigned long __v = (unsigned long) (value);    \
    __asm__ __volatile__(                           \
        &quot;csrw &quot; #csr &quot;, %0&quot;                         \
        :                                           \
        : &quot;rK&quot; (__v)                                \
        : &quot;memory&quot;                                  \
    );                                              \
})</initializer>
        <briefdescription>
<para><computeroutput>write_csr</computeroutput>用于将<computeroutput>csr</computeroutput>寄存器的值设置为<computeroutput>value</computeroutput> </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>csr</parametername>
</parameternamelist>
<parameterdescription>
<para>要设置的<computeroutput>CSR</computeroutput>寄存器名 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>value</parametername>
</parameternamelist>
<parameterdescription>
<para>要设置的值</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para><computeroutput>rK</computeroutput>约束参考, <computeroutput>r</computeroutput>是简单约束, <computeroutput>K</computeroutput>是<computeroutput>RISC-V</computeroutput>的机器限定约束:<orderedlist>
<listitem><para><ulink url="https://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html">https://gcc.gnu.org/onlinedocs/gcc/Simple-Constraints.html</ulink></para>
</listitem><listitem><para><ulink url="https://gcc.gnu.org/onlinedocs/gcc/Machine-Constraints.html">https://gcc.gnu.org/onlinedocs/gcc/Machine-Constraints.html</ulink> </para>
</listitem></orderedlist>
</para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" line="192" column="9" bodyfile="/home/data/proj/oskernel2023-x2w/include/asm/csr.h" bodystart="192" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para><computeroutput><ref refid="csr_8h" kindref="compound">csr.h</ref></computeroutput>提供了读写<computeroutput>RISC-V</computeroutput>体系结构中的<computeroutput>CSR</computeroutput>寄存器(<computeroutput>Control and Status</computeroutput>)的函数 </para>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>Shihong Wang (<ulink url="mailto:jack4shihong@gamil.com">jack4shihong@gamil.com</ulink>) </para>
</simplesect>
<simplesect kind="version"><para>0.1 </para>
</simplesect>
<simplesect kind="date"><para>2023-04-09</para>
</simplesect>
<simplesect kind="note"><para>参考RISC-V架构手册:<orderedlist>
<listitem><para><ulink url="https://github.com/riscv/riscv-isa-manual/releases/download/Ratified-IMAFDQC/riscv-spec-20191213.pdf">https://github.com/riscv/riscv-isa-manual/releases/download/Ratified-IMAFDQC/riscv-spec-20191213.pdf</ulink></para>
</listitem><listitem><para><ulink url="https://github.com/riscv/riscv-isa-manual/releases/download/Priv-v1.12/riscv-privileged-20211203.pdf">https://github.com/riscv/riscv-isa-manual/releases/download/Priv-v1.12/riscv-privileged-20211203.pdf</ulink></para>
</listitem></orderedlist>
</para>
</simplesect>
<simplesect kind="note"><para>一些有用的博客:<orderedlist>
<listitem><para><ulink url="https://dingfen.github.io/risc-v/2020/08/05/riscv-privileged.html#%E4%B8%AD%E6%96%AD%E4%B8%8E%E5%BC%82%E5%B8%B8">https://dingfen.github.io/risc-v/2020/08/05/riscv-privileged.html#%E4%B8%AD%E6%96%AD%E4%B8%8E%E5%BC%82%E5%B8%B8</ulink> </para>
</listitem></orderedlist>
</para>
</simplesect>
<simplesect kind="copyright"><para>Copyright Shihong Wang (c) 2023 with GNU Public License V3.0 </para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="17"><highlight class="preprocessor">#ifndef<sp/>__INCLUDE_ASM_CSR_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>__INCLUDE_ASM_CSR_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//#include<sp/>&quot;types.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------<sp/>宏定义<sp/>------------------------------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SATP_MODE_39<sp/>(1UL<sp/>&lt;&lt;<sp/>63)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>特权级定义<sp/>-----<sp/>*/</highlight></codeline>
<codeline lineno="28" refid="csr_8h_1a37ad3140d4956a01548f08823d84d0cc" refkind="member"><highlight class="preprocessor">#define<sp/>PRIVILEGE_U<sp/><sp/><sp/><sp/><sp/>0UL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PRIVILEGE_S<sp/><sp/><sp/><sp/><sp/>1UL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PRIVILEGE_M<sp/><sp/><sp/><sp/><sp/>3UL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>中断使能<sp/>-----<sp/>*/</highlight></codeline>
<codeline lineno="36" refid="csr_8h_1a93f797aa24a8dcc039cdb87774c979e2" refkind="member"><highlight class="preprocessor">#define<sp/>INTR_DS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0UL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>INTR_EN<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1UL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>mstatus寄存器<sp/>-----<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="comment">//<sp/>MPP域</highlight></codeline>
<codeline lineno="45" refid="csr_8h_1ac7a0e3b7853cd17e669f0f5da78cf905" refkind="member"><highlight class="comment"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPP_SHIFT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>11</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPP<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(3UL<sp/>&lt;&lt;<sp/>MSTATUS_MPP_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPP_U<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(PRIVILEGE_U<sp/>&lt;&lt;<sp/>MSTATUS_MPP_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPP_S<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(PRIVILEGE_S<sp/>&lt;&lt;<sp/>MSTATUS_MPP_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPP_M<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(PRIVILEGE_M<sp/>&lt;&lt;<sp/>MSTATUS_MPP_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="comment">//<sp/>MPIE域</highlight></codeline>
<codeline lineno="58" refid="csr_8h_1a5b7a508b30cc8240d85c72373075130f" refkind="member"><highlight class="comment"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPIE_SHIFT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>7</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPIE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>MSTATUS_MPIE_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPIE_DS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(INTR_DS<sp/>&lt;&lt;<sp/>MSTATUS_MPIE_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MSTATUS_MPIE_EN<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(INTR_EN<sp/>&lt;&lt;<sp/>MSTATUS_MPIE_SHIFT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>mtvec寄存器<sp/>-----<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="csr_8h_1a9fa813a9ac9c0fdd06b56201acd6a593" refkind="member"><highlight class="preprocessor">#define<sp/>TVEC_TRAP_DIRECT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(0b00)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TVEC_TRAP_INDIRECT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(0b01)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>mcause,<sp/>scause,<sp/>ucasue寄存器<sp/>-----<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="csr_8h_1aef218b97155a1af82eb4129c309889ff" refkind="member"><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_FLAG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>63)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_FLAG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(0UL<sp/>&lt;&lt;<sp/>64)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>异常的编号<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_MISALIGNED_FETCH<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_FETCH_ACCESS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x01</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_ILLEGAL_INSTRUCTION<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x02</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_BREAKPOINT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x03</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_MISALIGNED_LOAD<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x04</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_LOAD_ACCESS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x05</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_MISALIGNED_STORE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x06</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_STORE_ACCESS<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x07</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_USER_ECALL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x08</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_SUPERVISOR_ECALL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x09</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_VIRTUAL_SUPERVISOR_ECALL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0A</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_MACHINE_ECALL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0B</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_FETCH_PAGE_FAULT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0C</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_LOAD_PAGE_FAULT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0D</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_STORE_PAGE_FAULT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0F</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_FETCH_GUEST_PAGE_FAULT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x14</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_LOAD_GUEST_PAGE_FAULT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_VIRTUAL_INST_FAULT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x16</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_EXCEPTION_STORE_GUEST_PAGE_FAULT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x17</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>中断的编号<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_U_SOFTWARE_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x00</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_S_SOFTWARE_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x01</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_M_SOFTWARE_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x03</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_U_TIMER_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x04</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_S_TIMER_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x05</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_M_TIMER_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x07</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_U_EXTERNAL_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x08</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_S_EXTERNAL_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x09</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CAUSE_INTERRUPT_M_EXTERNAL_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x11</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>mip寄存器<sp/>-----<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_U_SOFTWARE_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_U_SOFTWARE_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_S_SOFTWARE_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_S_SOFTWARE_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_M_SOFTWARE_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_M_SOFTWARE_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_U_TIMER_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_U_TIMER_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_S_TIMER_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_S_TIMER_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_M_TIMER_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_M_TIMER_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_U_EXTERNAL_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_U_EXTERNAL_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_S_EXTERNAL_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_S_EXTERNAL_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MIP_M_EXTERNAL_INTERRUPT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(1UL<sp/>&lt;&lt;<sp/>CAUSE_INTERRUPT_M_EXTERNAL_INTERRUPT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>medeleg寄存器<sp/>-----<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>-----<sp/>mideleg寄存器<sp/>-----<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>------------------------------<sp/>宏函数<sp/>------------------------------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="157" refid="csr_8h_1aea23c529d81311e98bf5756f13e20b53" refkind="member"><highlight class="preprocessor">#define<sp/>SET_FIELD(origin,<sp/>which,<sp/>fieldval)<sp/>\</highlight></codeline>
<codeline lineno="158"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>(((origin)<sp/>&amp;<sp/>~(which))<sp/>|<sp/>((fieldval)<sp/>*<sp/>((which)<sp/>&amp;<sp/>~((which)<sp/>-<sp/>1))))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="171" refid="csr_8h_1a29cc2e18dc58da69b8d351a52e193df9" refkind="member"><highlight class="preprocessor">#define<sp/>read_csr(csr)<sp/>({<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="172"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>register<sp/>unsigned<sp/>long<sp/>__v;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="173"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>asm<sp/>volatile(<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="174"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;csrr<sp/>%0,<sp/>&quot;<sp/>#csr<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="175"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>&quot;=r&quot;<sp/>(__v)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="176"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="177"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>&quot;memory&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="178"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="179"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>__v;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="180"><highlight class="preprocessor">})</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="192" refid="csr_8h_1a920ec7be97d0deaaf7e4734fb062c555" refkind="member"><highlight class="preprocessor">#define<sp/>write_csr(csr,<sp/>value)<sp/>({<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="193"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>unsigned<sp/>long<sp/>__v<sp/>=<sp/>(unsigned<sp/>long)<sp/>(value);<sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="194"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>__asm__<sp/>__volatile__(<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="195"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;csrw<sp/>&quot;<sp/>#csr<sp/>&quot;,<sp/>%0&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="196"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="197"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>&quot;rK&quot;<sp/>(__v)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="198"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>&quot;memory&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="199"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="200"><highlight class="preprocessor">})</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
    </programlisting>
    <location file="/home/data/proj/oskernel2023-x2w/include/asm/csr.h"/>
  </compounddef>
</doxygen>
